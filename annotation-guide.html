<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblical Allusion Annotation Guide</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 900px; margin: 0 auto; padding: 20px; line-height: 1.6; }
        h1, h2 { color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        .workflow { background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .step { background: white; margin: 10px 0; padding: 15px; border-left: 4px solid #3498db; border-radius: 4px; }
        .example { background: #e8f5e8; padding: 15px; border-radius: 8px; margin: 15px 0; }
        .warning { background: #fff3cd; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #ffc107; }
        .types { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 20px 0; }
        .type-card { background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .type-title { font-weight: bold; color: #2980b9; margin-bottom: 8px; }
        code { background: #f4f4f4; padding: 2px 6px; border-radius: 3px; font-family: 'Courier New', monospace; }
        .checklist { background: #f0f8ff; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .checklist ul { margin: 0; }
        .checklist li { margin: 8px 0; }
    </style>
</head>
<body>
    <h1>Biblical Allusion Annotation Guide</h1>
    <p><strong>Purpose:</strong> Validate and correct automated biblical allusion detections in Toni Morrison's novels to create high-quality training data for machine learning models.</p>

    <div class="workflow">
        <h2>Annotation Workflow</h2>
        
        <div class="step">
            <strong>Step 1: Load Detector Results</strong>
            <ul>
                <li>Upload CSV/JSON files from the biblical allusion detector</li>
                <li>Each detected allusion appears as a passage with pre-filled data</li>
                <li>Confidence scores are shown in the passage metadata</li>
            </ul>
        </div>

        <div class="step">
            <strong>Step 2: Review Each Detection</strong>
            <ul>
                <li>Click on a passage to select it</li>
                <li>Review the detected allusion type and biblical source</li>
                <li>Read the full context to understand Morrison's usage</li>
            </ul>
        </div>

        <div class="step">
            <strong>Step 3: Validate or Correct</strong>
            <ul>
                <li><strong>Confirm:</strong> If detection is correct, adjust confidence if needed</li>
                <li><strong>Correct:</strong> Change allusion type, biblical source, or function</li>
                <li><strong>Reject:</strong> Mark as "No Biblical Allusion" if false positive</li>
            </ul>
        </div>

        <div class="step">
            <strong>Step 4: Add Analysis</strong>
            <ul>
                <li>Explain the connection between Morrison's text and biblical source</li>
                <li>Note the literary function (characterization, irony, etc.)</li>
                <li>Set confidence level based on certainty (0-100%)</li>
            </ul>
        </div>
    </div>

    <h2>Allusion Types & Examples</h2>
    <div class="types">
        <div class="type-card">
            <div class="type-title">Direct Quote</div>
            <p>Exact or near-exact biblical text</p>
            <div class="example">
                <strong>Morrison:</strong> "I will call them my people, which were not my people"<br>
                <strong>Biblical:</strong> Romans 9:25
            </div>
        </div>

        <div class="type-card">
            <div class="type-title">Paraphrase</div>
            <p>Biblical content in Morrison's words</p>
            <div class="example">
                <strong>Morrison:</strong> "dust to dust, ashes to ashes"<br>
                <strong>Biblical:</strong> Genesis 3:19 concept
            </div>
        </div>

        <div class="type-card">
            <div class="type-title">Character Reference</div>
            <p>Biblical names or figures</p>
            <div class="example">
                <strong>Morrison:</strong> "Pilate" (character name)<br>
                <strong>Biblical:</strong> Pontius Pilate
            </div>
        </div>

        <div class="type-card">
            <div class="type-title">Thematic Reference</div>
            <p>Biblical themes or concepts</p>
            <div class="example">
                <strong>Morrison:</strong> Redemption, sacrifice themes<br>
                <strong>Biblical:</strong> Christ's sacrifice
            </div>
        </div>

        <div class="type-card">
            <div class="type-title">Structural Echo</div>
            <p>Biblical narrative patterns</p>
            <div class="example">
                <strong>Morrison:</strong> Journey/exodus narratives<br>
                <strong>Biblical:</strong> Exodus story structure
            </div>
        </div>

        <div class="type-card">
            <div class="type-title">No Allusion</div>
            <p>False positive detection</p>
            <div class="example">
                <strong>Morrison:</strong> "beloved" (common word)<br>
                <strong>Not biblical</strong> in this context
            </div>
        </div>
    </div>

    <h2>Quality Guidelines</h2>
    
    <div class="checklist">
        <h3>Before Marking as Biblical Allusion:</h3>
        <ul>
            <li>✓ Clear connection to specific biblical text or concept</li>
            <li>✓ Intentional literary device (not coincidental)</li>
            <li>✓ Serves a narrative or thematic purpose</li>
            <li>✓ Fits Morrison's known use of biblical material</li>
        </ul>
    </div>

    <div class="warning">
        <strong>Common False Positives:</strong>
        <ul>
            <li>Common words that happen to appear in Bible (love, hope, etc.)</li>
            <li>Names without clear biblical connection</li>
            <li>Coincidental phrase similarities</li>
            <li>Modern religious language not specifically biblical</li>
        </ul>
    </div>

    <h2>Confidence Scoring</h2>
    <ul>
        <li><strong>90-100%:</strong> Obvious, direct biblical reference</li>
        <li><strong>70-89%:</strong> Clear allusion with strong evidence</li>
        <li><strong>50-69%:</strong> Probable allusion, some ambiguity</li>
        <li><strong>30-49%:</strong> Possible allusion, weak evidence</li>
        <li><strong>0-29%:</strong> Unlikely or false positive</li>
    </ul>

    <h2>Analysis Notes Template</h2>
    <div class="example">
        <strong>Template:</strong><br>
        "Morrison's '[quoted text]' [directly quotes/alludes to/echoes] [biblical source]. This serves to [literary function] by [explanation of effect]. The connection is [strength of evidence] because [reasoning]."
        
        <br><br><strong>Example:</strong><br>
        "Morrison's 'I will call them my people, which were not my people' directly quotes Romans 9:25. This serves to establish the theme of belonging and identity by connecting the African American experience to biblical narratives of chosen people. The connection is explicit because it's a near-exact quotation."
    </div>

    <h2>Target Metrics</h2>
    <ul>
        <li><strong>Goal:</strong> 200+ validated annotations per annotator</li>
        <li><strong>Quality:</strong> Inter-annotator agreement >80%</li>
        <li><strong>Coverage:</strong> All 8 Morrison novels represented</li>
        <li><strong>Balance:</strong> Mix of allusion types and confidence levels</li>
    </ul>

    <div class="workflow">
        <h2>Export & Next Steps</h2>
        <p>Once annotation is complete:</p>
        <ol>
            <li>Export annotations as CSV file</li>
            <li>File includes original detector data + human corrections</li>
            <li>Data ready for machine learning model training</li>
            <li>Can be used to improve detector accuracy</li>
        </ol>
    </div>
</body>
</html>